# TCP –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–æ–≥–æ–¥—ã üå§Ô∏èüåßÔ∏è

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–æ–≥–æ–¥—ã** ‚Äî —ç—Ç–æ .NET-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–µ–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ TCP –∏ —Å–∏–º—É–ª—è—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤.

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `NetTcpClient` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üöÄ

- **–ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.
- **–°–∏–º—É–ª—è—Ü–∏—è –ø–æ–≥–æ–¥—ã**: –°–ª—É—á–∞–π–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ async/await –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤.
- **–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

## –û–±–∑–æ—Ä –∫–æ–¥–∞ üìÇ

### –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç TCP-–∫–ª–∏–µ–Ω—Ç –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ –∞–¥—Ä–µ—Å—É `tcp://127.0.0.1:5555`. –ó–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `ManageUsers`, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–∏–º—É–ª–∏—Ä—É–µ—Ç –ø–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.

```csharp
public static async Task Main(string[] args)
{
    var serverAdress = new Uri("tcp://127.0.0.1:5555");
    var client = new NetTcpClient(serverAdress);
    Console.WriteLine($"Connect to server at {serverAdress}");
    await client.ConnectAsync();

    var userApi = new UserApiClient(client);
    await ManageUsers(userApi);
    client.Dispose();
}
```

### –õ–æ–≥–∏–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–æ–≥–æ–¥—ã

–ú–µ—Ç–æ–¥ `ManageUsers`:
- –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Å–µ—Ä–≤–µ—Ä–∞.
- –ù–∞–∑–Ω–∞—á–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –ø–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏–∑ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞.
- –û–±–Ω–æ–≤–ª—è–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–≥–æ–¥—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

```csharp
string[] weatherArray = { "Cloudy", "Clear", "Variable Cloud", "Rain", "Light rain" };
Random random = new Random();

int CityStatus = random.Next(1, 10);
int CityStatus11 = random.Next(1, 7);

var addUser = new User(
    Id: user1.Id,
    Name: user1?.Name,
    Active: weatherArray[CityStatus11]
);
var addResult = await userApi.UpdateAsync(CityStatus, addUser);
```

### –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å

–í –∫–æ–Ω—Å–æ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏ –ø–æ–≥–æ–¥–Ω—ã–π —Å—Ç–∞—Ç—É—Å.

```plaintext
| Id  | NameCity           | Weather          |
| 1   | New York           | Cloudy           |
| 2   | Los Angeles        | Clear            |
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è üõ†Ô∏è

- [SDK .NET 6](https://dotnet.microsoft.com/download/dotnet/6.0)
- –†–∞–±–æ—Ç–∞—é—â–∏–π TCP-—Å–µ—Ä–≤–µ—Ä, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π `NetTcpClient`.

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã
![Scrin1](1.png)

---

# UDP –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–≥–æ–¥—ã üå¶Ô∏è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø—Ä–æ—Å—Ç–æ–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ UDP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–≥–æ–¥–µ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –¥–∞—Ç—á–∏–∫–æ–≤. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É UDP –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–æ–≥–æ–¥—ã –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–∞—Ç—á–∏–∫–æ–≤.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üöÄ

- **–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ**: –≤–≤–µ–¥–∏—Ç–µ –ø–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–∞—Ç—á–∏–∫–∞**: –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–Ω—ã–º –∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã–º.
- **–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ–Ω—é –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–æ–±—â–µ–Ω–∏–π**: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Å–≤—è–∑—å —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üìñ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã —É–≤–∏–¥–∏—Ç–µ –º–µ–Ω—é –≤ –∫–æ–Ω—Å–æ–ª–∏:

```
1 - Send information about weather
2 - Send information about sensor's activity
-------
```

### –û–ø—Ü–∏–∏
1. **–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ**:
   - –í–≤–µ–¥–∏—Ç–µ `ID`, `City Name`, –∏ `Weather` –∫–æ–≥–¥–∞ –≤–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç.
   - –ü—Ä–∏–≤–µ—Ç:
     ```
     Enter id: 101
     Enter NameCity: London
     Enter weather: Sunny
     ```
   - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—É–± –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

2. **–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–∞—Ç—á–∏–∫–∞**:
   - –í–≤–µ–¥–∏—Ç–µ `1` —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥–∞—Ç—á–∏–∫ –∏–ª–∏ `0` —á—Ç–æ–±—ã –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.
   - –ü—Ä–∏–º–µ—Ä:
     ```
     Enter 1 - active, 0 - off: [Press 1 or 0]
     ```


## –û–±–∑–æ—Ä –∫–æ–¥–∞ üíª

- **NetUdpClient**: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É UDP.
- **MessageApiClient**: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ NetUdpClient.
- **ManageMessages**: –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API-–∫–ª–∏–µ–Ω—Ç–æ–º.
- **PrintMenu**: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–µ–Ω—é –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å–ø–æ—Å–æ–±–æ–º.

---

## –ü—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è üìù

```
Hello, World!
Connect to server at udp://127.0.0.1:7777
1 - Send information about weather
2 - Send information about sensor's activity
-------
Enter id: 202
Enter NameCity: New York
Enter weather: Rainy
Information sent: 202 New York Rainy
```

---


## –°–∫—Ä–∏–Ω—à–æ—Ç—ã
![Scrin1](2.png)
![Scrin2](3.png)
![Scrin3](4.png)